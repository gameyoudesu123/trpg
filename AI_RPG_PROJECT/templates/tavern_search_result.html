<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»²é–“ã‚’æ¢ã™ - é…’å ´</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Kiwi+Maru:wght@400;500&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #111827; color: #cbd5e1; }
        .title-font { font-family: 'Kiwi Maru', serif; }
        .char-sheet-container { background-color: #1f2937; border: 1px solid #4b5563; white-space: pre-wrap; font-family: monospace; }
        .introduction-text { font-family: 'Kiwi Maru', serif; font-size: 1.125rem; }
        .control-panel { background-color: #2d3748; border-top: 2px solid #4b5563; }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-4xl font-bold text-yellow-300 title-font text-center mb-8">.:*~*:. ä»²é–“å€™è£œ .:*~*:.</h1>

        {% for companion in companions %}
        <div class="mb-8">
            <div class="char-sheet-container p-4 rounded-lg shadow-md">
                <p>.:*~*:. {{ companion.name }}ã®ç¾çŠ¶ .:*~*:.</p>
                <p>+--[ åŸºæœ¬æƒ…å ± ]---------------------------+</p>
                <p>| ãƒ»åå‰     : {{ companion.name }} (Lv.{{ companion.level }})</p>
                <p>| ãƒ»ã‚¯ãƒ©ã‚¹   : {{ companion.class_name }}</p>
                <p>+------------------------------------------+</p>
                <p>ï¼ˆâ€»ã“ã‚Œã¯ç°¡æ˜“è¡¨ç¤ºã§ã™ã€‚å¾Œã»ã©å®Œå…¨ç‰ˆã‚’å®Ÿè£…ã—ã¾ã™ï¼‰</p>
            </div>
            <p class="introduction-text text-center mt-4 p-4 bg-gray-800 rounded-lg">{{ companion.introduction }}</p>
        </div>
        {% endfor %}

        <div class="control-panel p-6 rounded-lg shadow-lg mt-12">
            <form action="{{ url_for('tavern_contract') }}" method="post">
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h2 class="text-xl font-semibold mb-2 text-yellow-400">ã€ğŸ™‹ ä»²é–“ã‚’é›‡ã†ã€‘ (ç¾åœ¨ã®ãƒ‘ãƒ¼ãƒ†ã‚£: {{ game_state.party|length }}/4 å)</h2>
                        <ul class="space-y-2">
                            {% for companion in companions %}
                            <li><label class="flex items-center"><input type="checkbox" name="hire" value="{{ loop.index }}" class="mr-2 h-4 w-4 bg-gray-600 border-gray-500 rounded text-yellow-500 focus:ring-yellow-400"> [{{ loop.index }}] {{ companion.name }} ({{ companion.class_name }}) - {{ companion.contract_fee }}G</label></li>
                            {% endfor %}
                        </ul>
                    </div>
                    <div>
                        <h2 class="text-xl font-semibold mb-2 text-yellow-400">ã€ğŸ”„ å€™è£œã‚’æ›´æ–°ã€‘</h2>
                        <ul class="space-y-2">
                            <li>[4] å€™è£œã‚’å†ç”Ÿæˆã™ã‚‹ (ãƒªãƒ­ãƒ¼ãƒ‰)</li>
                            <li>[5] ğŸ” ç›¾å½¹ï¼ˆå‰è¡›ç³»ï¼‰ã®ä»²é–“å€™è£œ3äººã‚’æ¢ã™</li>
                        </ul>
                         <h2 class="text-xl font-semibold mt-4 mb-2 text-yellow-400">ã€ğŸšª é…’å ´ã‚’å‡ºã‚‹ã€‘</h2>
                        <ul class="space-y-2">
                            <li>[10] æ‹ ç‚¹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¸æˆ»ã‚‹</li>
                            <li>[11] ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³ã¸å‘ã‹ã†</li>
                        </ul>
                    </div>
                </div>
                <div class="mt-6 border-t border-gray-600 pt-4">
                    <h3 class="font-bold text-lg mb-2">âœï¸ã€å…¥åŠ›ã‚¬ã‚¤ãƒ‰ã€‘</h3>
                    <p class="text-sm text-gray-400">ãƒ»é›‡ã†ä»²é–“ã®ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’å…¥ã‚Œã€ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</p>
                    <p class="text-sm text-gray-400">ãƒ»å€™è£œã‚’æ›´æ–°ã™ã‚‹å ´åˆã¯ã€å¯¾å¿œã™ã‚‹ç•ªå·ã‚’å…¥åŠ›ã—ã¦æ±ºå®šã—ã¦ãã ã•ã„ã€‚</p>
                    <div class="flex space-x-2 mt-4">
                         <input type="text" name="command_other" class="w-full p-2 bg-gray-900 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500" placeholder="æ›´æ–°ã‚³ãƒãƒ³ãƒ‰ãªã©ã‚’å…¥åŠ›...">
                        <button type="submit" class="bg-yellow-600 hover:bg-yellow-500 text-gray-900 font-bold py-2 px-6 rounded-md transition">æ±ºå®š</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</body>
</html>